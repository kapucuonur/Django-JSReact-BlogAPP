{"ast":null,"code":"import _regeneratorRuntime from\"/Users/onurkapucu/Downloads/Django-JSReact-Blog/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/onurkapucu/Downloads/Django-JSReact-Blog/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/onurkapucu/Downloads/Django-JSReact-Blog/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/onurkapucu/Downloads/Django-JSReact-Blog/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var APIService=/*#__PURE__*/function(){function APIService(){_classCallCheck(this,APIService);}_createClass(APIService,null,[{key:\"UpdateArticle\",value:// Update an article\nfunction(){var _UpdateArticle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(article_id,body,token){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://127.0.0.1:8000/api/articles/\".concat(article_id,\"/\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Token \".concat(token)},body:JSON.stringify(body)});case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Failed to update article: \".concat(response.statusText));case 6:_context.next=8;return response.json();case 8:return _context.abrupt(\"return\",_context.sent);case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error('Error updating article:',_context.t0);throw _context.t0;case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));function UpdateArticle(_x,_x2,_x3){return _UpdateArticle.apply(this,arguments);}return UpdateArticle;}()// Insert a new article\n},{key:\"InsertArticle\",value:function(){var _InsertArticle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(body,token){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://127.0.0.1:8000/api/articles/\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Token \".concat(token)},body:JSON.stringify(body)});case 3:response=_context2.sent;if(response.ok){_context2.next=6;break;}throw new Error(\"Failed to insert article: \".concat(response.statusText));case 6:_context2.next=8;return response.json();case 8:return _context2.abrupt(\"return\",_context2.sent);case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.error('Error inserting article:',_context2.t0);throw _context2.t0;case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));function InsertArticle(_x4,_x5){return _InsertArticle.apply(this,arguments);}return InsertArticle;}()// Delete an article\n},{key:\"DeleteArticle\",value:function(){var _DeleteArticle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(article_id,token){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"http://127.0.0.1:8000/api/articles/\".concat(article_id,\"/\"),{method:'DELETE',// Corrected to DELETE\nheaders:{'Content-Type':'application/json','Authorization':\"Token \".concat(token)}});case 3:response=_context3.sent;if(response.ok){_context3.next=6;break;}throw new Error(\"Failed to delete article: \".concat(response.statusText));case 6:_context3.next=8;return response.json();case 8:return _context3.abrupt(\"return\",_context3.sent);case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);console.error('Error deleting article:',_context3.t0);throw _context3.t0;case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);}));function DeleteArticle(_x6,_x7){return _DeleteArticle.apply(this,arguments);}return DeleteArticle;}()// Login user\n},{key:\"LoginUser\",value:function(){var _LoginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(body){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"http://127.0.0.1:8000/auth/\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});case 3:response=_context4.sent;if(response.ok){_context4.next=6;break;}throw new Error(\"Login failed: \".concat(response.statusText));case 6:_context4.next=8;return response.json();case 8:return _context4.abrupt(\"return\",_context4.sent);case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);console.error('Error logging in:',_context4.t0);throw _context4.t0;case 15:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));function LoginUser(_x8){return _LoginUser.apply(this,arguments);}return LoginUser;}()// Register user\n},{key:\"RegisterUser\",value:function(){var _RegisterUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(body){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"http://127.0.0.1:8000/api/users/\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});case 3:response=_context5.sent;if(response.ok){_context5.next=6;break;}throw new Error(\"Registration failed: \".concat(response.statusText));case 6:_context5.next=8;return response.json();case 8:return _context5.abrupt(\"return\",_context5.sent);case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);console.error('Error registering user:',_context5.t0);throw _context5.t0;case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));function RegisterUser(_x9){return _RegisterUser.apply(this,arguments);}return RegisterUser;}()}]);return APIService;}();export{APIService as default};","map":{"version":3,"names":["APIService","article_id","body","token","fetch","method","headers","JSON","stringify","response","ok","Error","statusText","json","console","error"],"sources":["/Users/onurkapucu/Downloads/Django-JSReact-Blog/frontend/src/components/APIService.js"],"sourcesContent":["export default class APIService {\n    // Update an article\n    static async UpdateArticle(article_id, body, token) {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/articles/${article_id}/`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Token ${token}`\n                },\n                body: JSON.stringify(body)\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to update article: ${response.statusText}`);\n            }\n\n            return await response.json();\n        } catch (error) {\n            console.error('Error updating article:', error);\n            throw error;\n        }\n    }\n\n    // Insert a new article\n    static async InsertArticle(body, token) {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/articles/`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Token ${token}`\n                },\n                body: JSON.stringify(body)\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to insert article: ${response.statusText}`);\n            }\n\n            return await response.json();\n        } catch (error) {\n            console.error('Error inserting article:', error);\n            throw error;\n        }\n    }\n\n    // Delete an article\n    static async DeleteArticle(article_id, token) {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/articles/${article_id}/`, {\n                method: 'DELETE',  // Corrected to DELETE\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Token ${token}`\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to delete article: ${response.statusText}`);\n            }\n\n            // Some APIs return a response even for DELETE\n            return await response.json();\n        } catch (error) {\n            console.error('Error deleting article:', error);\n            throw error;\n        }\n    }\n\n    // Login user\n    static async LoginUser(body) {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/auth/`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(body)\n            });\n\n            if (!response.ok) {\n                throw new Error(`Login failed: ${response.statusText}`);\n            }\n\n            return await response.json();\n        } catch (error) {\n            console.error('Error logging in:', error);\n            throw error;\n        }\n    }\n\n    // Register user\n    static async RegisterUser(body) {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/users/`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(body)\n            });\n\n            if (!response.ok) {\n                throw new Error(`Registration failed: ${response.statusText}`);\n            }\n\n            return await response.json();\n        } catch (error) {\n            console.error('Error registering user:', error);\n            throw error;\n        }\n    }\n}"],"mappings":"ykBAAqBA,W,0IACjB;wFACA,iBAA2BC,UAA3B,CAAuCC,IAAvC,CAA6CC,KAA7C,uKAE+BC,MAAK,8CAAuCH,UAAvC,MAAsD,CAC9EI,MAAM,CAAE,KADsE,CAE9EC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,gCAA0BH,KAA1B,CAFK,CAFqE,CAM9ED,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CANwE,CAAtD,CAFpC,QAEcO,QAFd,kBAWaA,QAAQ,CAACC,EAXtB,8BAYkB,IAAIC,MAAJ,qCAAuCF,QAAQ,CAACG,UAAhD,EAZlB,8BAeqBH,SAAQ,CAACI,IAAT,EAfrB,iHAiBQC,OAAO,CAACC,KAAR,CAAc,yBAAd,cAjBR,uF,2GAsBA;qHACA,kBAA2Bb,IAA3B,CAAiCC,KAAjC,6KAE+BC,MAAK,uCAAwC,CAChEC,MAAM,CAAE,MADwD,CAEhEC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,gCAA0BH,KAA1B,CAFK,CAFuD,CAMhED,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAN0D,CAAxC,CAFpC,QAEcO,QAFd,mBAWaA,QAAQ,CAACC,EAXtB,+BAYkB,IAAIC,MAAJ,qCAAuCF,QAAQ,CAACG,UAAhD,EAZlB,+BAeqBH,SAAQ,CAACI,IAAT,EAfrB,sHAiBQC,OAAO,CAACC,KAAR,CAAc,0BAAd,eAjBR,0F,wGAsBA;qHACA,kBAA2Bd,UAA3B,CAAuCE,KAAvC,6KAE+BC,MAAK,8CAAuCH,UAAvC,MAAsD,CAC9EI,MAAM,CAAE,QADsE,CAC3D;AACnBC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,gCAA0BH,KAA1B,CAFK,CAFqE,CAAtD,CAFpC,QAEcM,QAFd,mBAUaA,QAAQ,CAACC,EAVtB,+BAWkB,IAAIC,MAAJ,qCAAuCF,QAAQ,CAACG,UAAhD,EAXlB,+BAeqBH,SAAQ,CAACI,IAAT,EAfrB,sHAiBQC,OAAO,CAACC,KAAR,CAAc,yBAAd,eAjBR,0F,wGAsBA;6GACA,kBAAuBb,IAAvB,6KAE+BE,MAAK,+BAAgC,CACxDC,MAAM,CAAE,MADgD,CAExDC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF+C,CAKxDJ,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CALkD,CAAhC,CAFpC,QAEcO,QAFd,mBAUaA,QAAQ,CAACC,EAVtB,+BAWkB,IAAIC,MAAJ,yBAA2BF,QAAQ,CAACG,UAApC,EAXlB,+BAcqBH,SAAQ,CAACI,IAAT,EAdrB,sHAgBQC,OAAO,CAACC,KAAR,CAAc,mBAAd,eAhBR,0F,wFAqBA;mHACA,kBAA0Bb,IAA1B,6KAE+BE,MAAK,oCAAqC,CAC7DC,MAAM,CAAE,MADqD,CAE7DC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFoD,CAK7DJ,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CALuD,CAArC,CAFpC,QAEcO,QAFd,mBAUaA,QAAQ,CAACC,EAVtB,+BAWkB,IAAIC,MAAJ,gCAAkCF,QAAQ,CAACG,UAA3C,EAXlB,+BAcqBH,SAAQ,CAACI,IAAT,EAdrB,sHAgBQC,OAAO,CAACC,KAAR,CAAc,yBAAd,eAhBR,0F,kIA7FiBf,U"},"metadata":{},"sourceType":"module"}