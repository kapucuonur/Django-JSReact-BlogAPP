{"ast":null,"code":"var _jsxFileName = \"/Users/onurkapucu/Downloads/Django-And-React-JS-Blog-main/frontend/src/components/Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport APIService from './APIService';\nimport { useCookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Form(props) {\n  _s();\n\n  var _props$article, _props$article2;\n\n  const [title, setTitle] = useState(((_props$article = props.article) === null || _props$article === void 0 ? void 0 : _props$article.title) || '');\n  const [description, setDescription] = useState(((_props$article2 = props.article) === null || _props$article2 === void 0 ? void 0 : _props$article2.description) || '');\n  const [token] = useCookies(['mytoken']);\n  useEffect(() => {\n    var _props$article3, _props$article4;\n\n    setTitle(((_props$article3 = props.article) === null || _props$article3 === void 0 ? void 0 : _props$article3.title) || '');\n    setDescription(((_props$article4 = props.article) === null || _props$article4 === void 0 ? void 0 : _props$article4.description) || '');\n  }, [props.article]);\n\n  const updateArticle = () => {\n    APIService.UpdateArticle(props.article.id, {\n      title,\n      description\n    }, token['mytoken']).then(resp => props.updatedInformation(resp)).catch(error => console.error('Error updating article:', error));\n  };\n\n  const insertArticle = () => {\n    if (!title || !description) {\n      alert('Title and description are required.');\n      return;\n    }\n\n    APIService.InsertArticle({\n      title,\n      description\n    }, token['mytoken']).then(resp => props.insertedInformation(resp)).catch(error => console.error('Error inserting article:', error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: props.article && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-7\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: title,\n              className: \"form-control\",\n              placeholder: \"Enter Post Title\",\n              onChange: e => setTitle(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"description\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              type: \"text\",\n              value: description,\n              className: \"form-control\",\n              placeholder: \"Enter Post Description\",\n              rows: \"3\",\n              onChange: e => setDescription(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this), props.article.id ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: updateArticle,\n          className: \"btn btn-success\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: insertArticle,\n          className: \"btn btn-primary\",\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Form, \"pugO+eDHbZdC6doCdTfKPoC2aRo=\", false, function () {\n  return [useCookies];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useState","useEffect","APIService","useCookies","Form","props","title","setTitle","article","description","setDescription","token","updateArticle","UpdateArticle","id","then","resp","updatedInformation","catch","error","console","insertArticle","alert","InsertArticle","insertedInformation","e","target","value"],"sources":["/Users/onurkapucu/Downloads/Django-And-React-JS-Blog-main/frontend/src/components/Form.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport APIService from './APIService';\nimport { useCookies } from 'react-cookie';\n\nfunction Form(props) {\n    const [title, setTitle] = useState(props.article?.title || '');\n    const [description, setDescription] = useState(props.article?.description || '');\n    const [token] = useCookies(['mytoken']);\n\n    useEffect(() => {\n        setTitle(props.article?.title || '');\n        setDescription(props.article?.description || '');\n    }, [props.article]);\n\n    const updateArticle = () => {\n        APIService.UpdateArticle(props.article.id, { title, description }, token['mytoken'])\n            .then(resp => props.updatedInformation(resp))\n            .catch(error => console.error('Error updating article:', error));\n    };\n\n    const insertArticle = () => {\n        if (!title || !description) {\n            alert('Title and description are required.');\n            return;\n        }\n\n        APIService.InsertArticle({ title, description }, token['mytoken'])\n            .then(resp => props.insertedInformation(resp))\n            .catch(error => console.error('Error inserting article:', error));\n    };\n\n    return (\n        <div>\n            {props.article && (\n                <div>\n                    <div className=\"col-md-7\">\n                        <div className=\"col-md-6\">\n                            <div className=\"form-group\">\n                                <label htmlFor=\"title\">Title</label>\n                                <input\n                                    type=\"text\"\n                                    value={title}\n                                    className=\"form-control\"\n                                    placeholder=\"Enter Post Title\"\n                                    onChange={e => setTitle(e.target.value)}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <div className=\"form-group\">\n                                <label htmlFor=\"description\">Description</label>\n                                <textarea\n                                    type=\"text\"\n                                    value={description}\n                                    className=\"form-control\"\n                                    placeholder=\"Enter Post Description\"\n                                    rows=\"3\"\n                                    onChange={e => setDescription(e.target.value)}\n                                />\n                            </div>\n                        </div>\n                        <br />\n                        {props.article.id ? (\n                            <button onClick={updateArticle} className=\"btn btn-success\">Update</button>\n                        ) : (\n                            <button onClick={insertArticle} className=\"btn btn-primary\">Post</button>\n                        )}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module"}