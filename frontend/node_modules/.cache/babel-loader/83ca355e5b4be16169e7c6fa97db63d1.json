{"ast":null,"code":"import _slicedToArray from\"/Users/onurkapucu/Downloads/Django-JSReact-Blog/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import APISerive from'./APIService';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Form(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useCookies=useCookies(['mytoken']),_useCookies2=_slicedToArray(_useCookies,1),token=_useCookies2[0];useEffect(function(){setTitle(props.article.title);setDescription(props.article.description);},[props.article]);var updateArticle=function updateArticle(){APISerive.UpdateArticle(props.article.id,{title:title,description:description},token['mytoken']).then(function(resp){return props.updatedInformation(resp);});setTitle('');setDescription('');};var insertArticle=function insertArticle(){APISerive.InsertArticle({title:title,description:description},token['mytoken']).then(function(resp){return props.insertedInformation(resp);});setTitle('');setDescription('');};return/*#__PURE__*/_jsx(\"div\",{children:props.article?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-7\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,className:\"form-control\",placeholder:\"Enter Post Title\",onChange:function onChange(e){return setTitle(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",value:description,className:\"form-control\",placeholder:\"Enter Post Description\",rows:\"3\",onChange:function onChange(e){return setDescription(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"br\",{}),props.article.id?/*#__PURE__*/_jsx(\"button\",{onClick:updateArticle,className:\"btn btn-success\",children:\"Update\"}):/*#__PURE__*/_jsx(\"button\",{onClick:insertArticle,className:\"btn btn-primary\",children:\"Post\"})]})}):null});}export default Form;","map":{"version":3,"names":["React","useState","useEffect","APISerive","useCookies","Form","props","title","setTitle","description","setDescription","token","article","updateArticle","UpdateArticle","id","then","resp","updatedInformation","insertArticle","InsertArticle","insertedInformation","e","target","value"],"sources":["/Users/onurkapucu/Downloads/Django-JSReact-Blog/frontend/src/components/Form.js"],"sourcesContent":["import React, {useState,useEffect} from 'react'\nimport APISerive from './APIService'\nimport {useCookies} from 'react-cookie';\n\n\nfunction Form(props) {\n    const [title, setTitle] = useState('')\n    const [description, setDescription] = useState('')\n    const [token] = useCookies(['mytoken'])\n\n    useEffect(()=>{\n        setTitle(props.article.title)\n        setDescription(props.article.description)\n\n    }, [props.article])\n\n\n    const updateArticle = ()=>{\n        APISerive.UpdateArticle(props.article.id, {title,description},token['mytoken'])\n        .then(resp => props.updatedInformation(resp))\n        setTitle('')\n        setDescription('')\n    }\n\n\n    const insertArticle = ()=>{\n        APISerive.InsertArticle({title,description},token['mytoken'])\n        .then(resp => props.insertedInformation(resp))\n        setTitle('')\n        setDescription('')\n    }\n\n    return (\n        <div>\n            {props.article ? (<div>\n                <div className=\"col-md-7\">\n            <div className=\"col-md-6\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"title\">Title</label>\n                <input type=\"text\" value={title} className=\"form-control\" placeholder=\"Enter Post Title\" onChange ={e=> setTitle(e.target.value)}/>\n                </div>\n            </div>\n\n            <div className=\"col-md-6\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"description\">Description</label>\n                <textarea type=\"text\" value={description} className=\"form-control\" placeholder=\"Enter Post Description\" rows=\"3\" onChange ={e=> setDescription(e.target.value)}/>\n                </div>\n            </div>\n\n            <br />\n            {props.article.id ? \n            <button onClick ={updateArticle} className=\"btn btn-success\">Update</button>\n            :\n            <button onClick ={insertArticle} className=\"btn btn-primary\">Post</button>\n            }\n            </div>\n\n\n            </div>) : null}\n\n        </div>\n    )\n}\n\nexport default Form"],"mappings":"8IAAA,MAAOA,MAAP,EAAeC,QAAf,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,MAAOC,UAAP,KAAsB,cAAtB,CACA,OAAQC,UAAR,KAAyB,cAAzB,C,wFAGA,QAASC,KAAT,CAAcC,KAAd,CAAqB,CACjB,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAsCP,QAAQ,CAAC,EAAD,CAA9C,yCAAOQ,WAAP,eAAoBC,cAApB,eACA,gBAAgBN,UAAU,CAAC,CAAC,SAAD,CAAD,CAA1B,4CAAOO,KAAP,iBAEAT,SAAS,CAAC,UAAI,CACVM,QAAQ,CAACF,KAAK,CAACM,OAAN,CAAcL,KAAf,CAAR,CACAG,cAAc,CAACJ,KAAK,CAACM,OAAN,CAAcH,WAAf,CAAd,CAEH,CAJQ,CAIN,CAACH,KAAK,CAACM,OAAP,CAJM,CAAT,CAOA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAI,CACtBV,SAAS,CAACW,aAAV,CAAwBR,KAAK,CAACM,OAAN,CAAcG,EAAtC,CAA0C,CAACR,KAAK,CAALA,KAAD,CAAOE,WAAW,CAAXA,WAAP,CAA1C,CAA8DE,KAAK,CAAC,SAAD,CAAnE,EACCK,IADD,CACM,SAAAC,IAAI,QAAIX,MAAK,CAACY,kBAAN,CAAyBD,IAAzB,CAAJ,EADV,EAEAT,QAAQ,CAAC,EAAD,CAAR,CACAE,cAAc,CAAC,EAAD,CAAd,CACH,CALD,CAQA,GAAMS,cAAa,CAAG,QAAhBA,cAAgB,EAAI,CACtBhB,SAAS,CAACiB,aAAV,CAAwB,CAACb,KAAK,CAALA,KAAD,CAAOE,WAAW,CAAXA,WAAP,CAAxB,CAA4CE,KAAK,CAAC,SAAD,CAAjD,EACCK,IADD,CACM,SAAAC,IAAI,QAAIX,MAAK,CAACe,mBAAN,CAA0BJ,IAA1B,CAAJ,EADV,EAEAT,QAAQ,CAAC,EAAD,CAAR,CACAE,cAAc,CAAC,EAAD,CAAd,CACH,CALD,CAOA,mBACI,qBACKJ,KAAK,CAACM,OAAN,cAAiB,kCACd,aAAK,SAAS,CAAC,UAAf,wBACJ,YAAK,SAAS,CAAC,UAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,OAAf,mBADJ,cAEA,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEL,KAA1B,CAAiC,SAAS,CAAC,cAA3C,CAA0D,WAAW,CAAC,kBAAtE,CAAyF,QAAQ,CAAG,kBAAAe,CAAC,QAAGd,SAAQ,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,EAArG,EAFA,GADJ,EADI,cAQJ,YAAK,SAAS,CAAC,UAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,aAAf,yBADJ,cAEA,iBAAU,IAAI,CAAC,MAAf,CAAsB,KAAK,CAAEf,WAA7B,CAA0C,SAAS,CAAC,cAApD,CAAmE,WAAW,CAAC,wBAA/E,CAAwG,IAAI,CAAC,GAA7G,CAAiH,QAAQ,CAAG,kBAAAa,CAAC,QAAGZ,eAAc,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAA7H,EAFA,GADJ,EARI,cAeJ,aAfI,CAgBHlB,KAAK,CAACM,OAAN,CAAcG,EAAd,cACD,eAAQ,OAAO,CAAGF,aAAlB,CAAiC,SAAS,CAAC,iBAA3C,oBADC,cAGD,eAAQ,OAAO,CAAGM,aAAlB,CAAiC,SAAS,CAAC,iBAA3C,kBAnBI,GADc,EAAjB,CAyBS,IA1Bd,EADJ,CA+BH,CAED,cAAed,KAAf"},"metadata":{},"sourceType":"module"}