{"ast":null,"code":"import _slicedToArray from\"/Users/onurkapucu/Downloads/Django-JSReact-Blog/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useCookies}from'react-cookie';import APIService from'./APIService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useCookies=useCookies(['mytoken']),_useCookies2=_slicedToArray(_useCookies,2),token=_useCookies2[0],setToken=_useCookies2[1];var navigate=useNavigate();var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLogin=_useState6[0],setLogin=_useState6[1];useEffect(function(){var user_token=token['mytoken'];console.log('Login User token is',user_token);console.log('Data type',typeof token['mytoken']);if(String(user_token)==='undefined'){navigate('/');}else{navigate('/articles');}},[token]);var loginBtn=function loginBtn(){if(username.trim().length!==0&&password.trim().length){console.log('Username And Password Are Set');APIService.LoginUser({username:username,password:password}).then(function(resp){return setToken('mytoken',resp.token);}).catch(function(error){return console.log(error);});}else{console.log('Username And Password Are Not Set');navigate('/');}};var RegisterBtn=function RegisterBtn(){if(username.trim().length!==0&&password.trim().length!==0){console.log('Username and password are set');APIService.RegisterUser({username:username,password:password}).then(function(){return loginBtn();}).catch(function(error){return console(error);});}else{navigate('/');console.log('Username and password are not set');}};var loginStyle={backgroundImage:\"url(\".concat(process.env.PUBLIC_URL+\"img/10.jpg\",\")\"),backgroundRepeat:'no-repeat',backgroundSize:'cover','minHeight':'100%',height:'77vh',backgroundPosition:' center',margin:0};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"alert alert-danger\",children:\"Welcome to Blog\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-4\",children:[isLogin?/*#__PURE__*/_jsx(\"h3\",{children:\"Please Login Here\"}):/*#__PURE__*/_jsx(\"h3\",{children:\"Please Register Here\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,className:\"form-control\",placeholder:\"Enter Username\",onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,className:\"form-control\",placeholder:\"Enter Password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:isLogin?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:loginBtn,className:\"btn btn-primary\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:\"If You Don't Have Account, Please\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setLogin(false);},className:\"btn btn-primary\",children:\"Register\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:RegisterBtn,className:\"btn btn-primary\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"If You Have Account, Please \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return setLogin(true);},children:\"Login\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8 full-img\",style:loginStyle})]})})});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useCookies","APIService","Login","username","setUsername","password","setPassword","token","setToken","navigate","isLogin","setLogin","user_token","console","log","String","loginBtn","trim","length","LoginUser","then","resp","catch","error","RegisterBtn","RegisterUser","loginStyle","backgroundImage","process","env","PUBLIC_URL","backgroundRepeat","backgroundSize","height","backgroundPosition","margin","e","target","value"],"sources":["/Users/onurkapucu/Downloads/Django-JSReact-Blog/frontend/src/components/Login.js"],"sourcesContent":["import React, {useState,useEffect} from 'react'\nimport {useNavigate} from 'react-router-dom'\nimport {useCookies} from 'react-cookie'\nimport APIService from './APIService'\n\n\nfunction Login() {\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [token, setToken] = useCookies(['mytoken'])\n    let navigate = useNavigate()\n    const [isLogin, setLogin] = useState(true)\n\n\n    useEffect(()=> {\n      var user_token = token['mytoken']\n      console.log('Login User token is',user_token)\n    console.log('Data type',typeof(token['mytoken']))\n\n        if(String(user_token) === 'undefined'){\n            navigate('/')\n        }else{\n            navigate('/articles')\n          }\n\n    }, [token])\n\n    const loginBtn = () => {\n     if(username.trim().length !==0 && password.trim().length){\n         console.log('Username And Password Are Set')\n         APIService.LoginUser({username,password})\n         .then(resp => setToken('mytoken', resp.token))\n         .catch(error => console.log(error))\n     }else{\n        console.log('Username And Password Are Not Set')\n         navigate('/')\n     }\n    }\n\n\n    const RegisterBtn = () => {\n        if(username.trim().length !== 0 && password.trim().length !== 0){\n            console.log('Username and password are set');\n            APIService.RegisterUser({username, password})\n            .then(() => loginBtn())\n            .catch(error => console(error))\n        }else{\n            navigate('/')\n            console.log('Username and password are not set');\n\n        }\n    }\n\n\n    const loginStyle={\n        backgroundImage:`url(${process.env.PUBLIC_URL+ \"img/10.jpg\"})`,\n                backgroundRepeat: 'no-repeat',\n                backgroundSize: 'cover',\n                'minHeight': '100%',\n                height:'77vh',\n                backgroundPosition:' center',\n                margin:0,\n            \n                };\n\n\n    return (\n        <div className=\"App\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                <h1 className=\"alert alert-danger\">Welcome to Blog</h1>\n                <br />\n                <br />\n\n                <div className=\"col-sm-4\">\n                    {isLogin ? <h3>Please Login Here</h3> : <h3>Please Register Here</h3>}    \n                <div className=\"form-group\">\n                    <label htmlFor=\"username\">Username</label>\n                <input type=\"text\" value={username} className=\"form-control\" placeholder=\"Enter Username\" onChange ={e=> setUsername(e.target.value)}/>\n            </div>\n\n  \n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                <input type=\"password\" value={password} className=\"form-control\" placeholder=\"Enter Password\" onChange ={e=> setPassword(e.target.value)}/>\n            </div>\n\n            <br />\n\n            <div>\n            {isLogin ? \n            <div>\n                <button onClick={loginBtn} className=\"btn btn-primary\">Login</button>\n                <p>If You Don't Have Account, Please</p><button onClick={() => setLogin(false)} className=\"btn btn-primary\">Register</button></div> \n            :\n            <div>\n                <button onClick={RegisterBtn} className=\"btn btn-primary\">Register</button>\n<p>If You Have Account, Please <button className=\"btn btn-primary\" onClick={() => setLogin(true)}>Login</button></p></div>\n            }\n            </div>\n            </div>\n\n\n            <div className=\"col-sm-8 full-img\" style={loginStyle}>\n\n            </div>\n\n                </div>\n                </div>\n            </div>\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}